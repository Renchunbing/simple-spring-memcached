<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
  	http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 
  	http://maven.apache.org/xsd/assembly-1.1.0.xsd">

	<id>bin_with_dependencies</id>
	<includeBaseDirectory>false</includeBaseDirectory>
	<formats>
		<format>zip</format>
		<format>tar.gz</format>
	</formats>

	<moduleSets>
		<moduleSet>
 			<includeSubModules>false</includeSubModules>
			<!-- Enable access to all projects in the current multimodule build! -->
			<!-- <useAllReactorProjects>true</useAllReactorProjects> -->

			<!-- Now, select which projects to include in this module-set. -->
			<includes>
				<include>${project.groupId}:simple-spring-memcached</include>
				<include>${project.groupId}:spymemcached-provider</include>
				<include>${project.groupId}:xmemcached-provider</include>
				<include>${project.groupId}:spring-cache</include>
				<include>${project.groupId}:integration-test</include>
				<include>${project.groupId}:spring-cache-integration-test</include>
			</includes>
			<sources>
				<outputDirectoryMapping>
                    projects/${module.basedir.name}
                </outputDirectoryMapping>
        		<fileSets>
                    <fileSet>
                        <directory>/</directory>
                        <includes>
                            <include>**/pom.xml</include>
                            <include>**/src/**</include>
                        </includes>
                    </fileSet>
                </fileSets>
      		</sources>
      		<binaries>
        		<outputDirectory>dist</outputDirectory>
        		<unpack>false</unpack>
      		</binaries>
		</moduleSet>
		<moduleSet>
      		<binaries>
        		<attachmentClassifier>javadoc</attachmentClassifier>
        		<outputDirectory>docs</outputDirectory>
        		<unpack>false</unpack>
      		</binaries>
		</moduleSet>
		
		<!-- <moduleSet>		
			<includeSubModules>false</includeSubModules>
			<sources>
				<includeModuleDirectory>false</includeModuleDirectory>
				<outputDirectory>src</outputDirectory>
				<outputDirectoryMapping>
                    src
                </outputDirectoryMapping>
        		<fileSets>
                    <fileSet>
                        <directory>*/target</directory>
                        <includes>
                            <include>**/*-sources.jar</include>
                        </includes>
                    </fileSet>
                </fileSets>
      		</sources>
		</moduleSet> -->
	</moduleSets>

	<fileSets>
		<fileSet>
			<outputDirectory>/</outputDirectory>
			<includes>
				<include>changelog.txt</include>
			</includes>
		</fileSet>
		<fileSet>
			<outputDirectory>/projects</outputDirectory>
			<includes>
				<include>pom.xml</include>
				<include>readme.txt</include>
				<include>run-tests.bat</include>
				<include>start_memcached.sh</include>
			</includes>
		</fileSet>
	 	<!-- <fileSet>
	 		
			<outputDirectory>${project.basedir}/../src</outputDirectory>
			
			<includes>
				<include>**/*-sources.jar</include>
			</includes>
		</fileSet> -->
	</fileSets>
	
	<!-- <fileSets>
		<fileSet>
			<directory>${project.basedir}</directory>
			<outputDirectory>/</outputDirectory>
			<includes>
				<include>README*</include>
				<include>LICENSE*</include>
				<include>NOTICE*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/site</directory>
			<outputDirectory>docs</outputDirectory>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}</directory>
			<outputDirectory>/</outputDirectory>
			<includes>
				<include>*.jar</include>
			</includes>
		</fileSet>
	</fileSets>
	<dependencySets>
		<dependencySet>
			<outputDirectory>lib</outputDirectory>
			<useProjectArtifact>false</useProjectArtifact>
			<scope>runtime</scope>
		</dependencySet>
		<dependencySet>
			<outputDirectory>lib</outputDirectory>
			<useProjectArtifact>false</useProjectArtifact>
			<scope>test</scope>
			<includes>
				<include>log4j:log4j</include>
				<include>org.slf4j:slf4j-log4j12</include>
			</includes>
		</dependencySet>
	</dependencySets> -->
</assembly>
